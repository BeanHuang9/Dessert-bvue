{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/CustomProductModal.vue","webpack:///./src/components/CustomProductModal.vue?7c3d","webpack:///./src/views/ProductsView.vue?b65e","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/ProductsView.vue","webpack:///./src/views/ProductsView.vue?f20f"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","class","id","tabindex","role","aria-labelledby","aria-hidden","ref","_createElementVNode","type","data-bs-dismiss","aria-label","_createElementBlock","_toDisplayString","$props","title","_hoisted_6","src","imageUrl","alt","category","description","content","origin_price","_Fragment","key","price","min","max","$data","$event","disabled","onClick","$options","data","modal","qty","cartData","isLoading","props","methods","showModal","show","hideModal","hide","getCart","$http","get","process","then","res","catch","err","console","dir","addCart","cart","product_id","product","carts","item","post","mounted","Modal","$refs","productModalInner","__exports__","render","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","EmptyStringDescriptionStore","SymbolWrapper","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","symbol","string","desc","_hoisted_2","_renderList","style","_createVNode","_component_router_link","to","_component_productModal","_component_FooterView","productsData","getProducts","products","getModalProduct","productModalOuter","components","productModal","FooterView","created"],"mappings":"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","file":"js/chunk-5683b57a.4bf90978.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","<template>\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\"\n    role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\" ref=\"productModalInner\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>{{ product.title }}</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\"\n            data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"產品圖片\">\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\n              <p>商品描述：{{ product.description }}</p>\n              <p>商品內容：{{ product.content }}</p>\n              <div class=\"h5\" v-if=\"!product.origin_price\">{{ product.price }} 元</div>\n              <template v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              </template>\n              <div>\n                <div class=\"input-group\">\n                  <input type=\"number\" class=\"form-control\" min=\"1\" max=\"10\" v-model.number=\"qty\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary\"\n                    :disabled=\"isLoading\"\n                    @click=\"addCart(product.id)\">\n                    <span class=\"spinner-border spinner-border-sm\"\n                      role=\"status\" aria-hidden=\"true\"\n                      v-if=\"isLoading\"></span>\n                    加入購物車\n                  </button>\n                </div>\n              </div>\n              <!-- <div>\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"$router.back\">返回</button>\n              </div> -->\n            </div>\n            <!-- col-sm-6 end -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: {},\n      qty: 1,\n      cartData: [],\n      isLoading: false,\n    };\n  },\n  props: ['product'],\n  methods: {\n    showModal() {\n      this.modal.show();\n      this.qty = 1;\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n    getCart() {\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data;\n        }).catch((err) => {\n          console.dir(err);\n        });\n    },\n    addCart(id) {\n      const cart = {\n        data: {\n          product_id: id,\n          qty: this.qty,\n        },\n      };\n\n      const product = this.cartData.carts.find((item) => item.product_id === id);\n      if (product) {\n        cart.data.qty += product.qty;\n      }\n\n      this.isLoading = true;\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, cart)\n        .then(() => {\n          this.hideModal();\n        }).catch((err) => {\n          console.dir(err);\n        }).then(() => {\n          this.isLoading = false;\n        });\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.productModalInner);\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./CustomProductModal.vue?vue&type=template&id=bf1e0aee\"\nimport script from \"./CustomProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./CustomProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bean/Documents/hexschool/Dessert-vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProductsView.vue?vue&type=style&index=0&id=3fe155c3&lang=scss\"","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","<template>\n<div class=\"container mt-5 my-5\">\n  <h2>產品列表</h2>\n  <div class=\"row row-cols-4 gy-4 mt-3\">\n    <div class=\"col-6 col-lg-3\" v-for=\"product in productsData\" :key=\"product.id\">\n      <div class=\"card\">\n        <div class=\"card-img-top ratio ratio-1x1 bg-cover\"\n          :style=\"`background-image: url('${product.imageUrl}')`\">\n        </div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ product.title }}</h5>\n          <p class=\"card-text descriptionBox\">{{ product.description }}</p>\n        </div>\n        <div class=\"card-footer\">\n          <!-- <button type=\"button\" class=\"btn btn-dark w-100\"\n            @click=\"getModalProduct(product)\">查看更多</button> -->\n            <router-link :to=\"`/product/${product.id}`\" class=\"btn btn-secondary btnfull\">\n              查看更多\n            </router-link>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <productModal ref=\"productModalOuter\" :product=\"product\"></productModal>\n</div>\n<FooterView></FooterView>\n\n</template>\n\n<style lang=\"scss\">\n.card-img-top{\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n}\n.card-footer{\n  background: #fff;\n  border: none;\n}\n.btn.btnfull{ width: 100%;}\n.btn:hover{\n  opacity: 0.75;\n}\n\n.card-text.descriptionBox{\n  margin-bottom: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n</style>\n\n<script>\nimport productModal from '@/components/CustomProductModal.vue';\nimport FooterView from '@/components/FooterView.vue';\n\nexport default {\n  data() {\n    return {\n      productsData: [],\n      product: {},\n    };\n  },\n  methods: {\n    getProducts() {\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          this.productsData = res.data.products;\n          // const tempArr = res.data.products;\n          // for (let i = 0; i < 12; i += 1) {\n          //   const index = Math.floor(Math.random() * tempArr.length);\n          //   this.productsData.push(tempArr[index]);\n          //   tempArr.splice(index, 1);\n          // }\n        }).catch((err) => {\n          console.dir(err);\n        });\n    },\n    getModalProduct(product) {\n      this.product = product;\n      this.$refs.productModalOuter.showModal();\n    },\n  },\n  components: {\n    productModal,\n    FooterView,\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=3fe155c3\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=3fe155c3&lang=scss\"\n\nimport exportComponent from \"/Users/bean/Documents/hexschool/Dessert-vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}