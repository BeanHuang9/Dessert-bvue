(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5683b57a"],{4835:function(t,c,e){},"7db0":function(t,c,e){"use strict";var o=e("23e7"),a=e("b727").find,n=e("44d2"),i="find",r=!0;i in[]&&Array(1)[i]((function(){r=!1})),o({target:"Array",proto:!0,forced:r},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(i)},9481:function(t,c,e){"use strict";e("a4d3"),e("e01a");var o=e("7a23"),a={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"productModalInner"},n={class:"modal-dialog modal-xl",role:"document"},i={class:"modal-content border-0"},r={class:"modal-header bg-dark text-white"},d={class:"modal-title",id:"exampleModalLabel"},s=Object(o["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),l={class:"modal-body"},u={class:"row"},b={class:"col-sm-6"},p=["src"],g={class:"col-sm-6"},f={class:"badge bg-primary rounded-pill"},j={key:0,class:"h5"},O={class:"h6"},h={class:"h5"},v={class:"input-group"},m=["disabled"],y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},w=Object(o["i"])(" 加入購物車 ");function M(t,c,e,M,x,k){return Object(o["y"])(),Object(o["f"])("div",a,[Object(o["g"])("div",n,[Object(o["g"])("div",i,[Object(o["g"])("div",r,[Object(o["g"])("h5",d,[Object(o["g"])("span",null,Object(o["H"])(e.product.title),1)]),s]),Object(o["g"])("div",l,[Object(o["g"])("div",u,[Object(o["g"])("div",b,[Object(o["g"])("img",{class:"img-fluid",src:e.product.imageUrl,alt:"產品圖片"},null,8,p)]),Object(o["g"])("div",g,[Object(o["g"])("span",f,Object(o["H"])(e.product.category),1),Object(o["g"])("p",null,"商品描述："+Object(o["H"])(e.product.description),1),Object(o["g"])("p",null,"商品內容："+Object(o["H"])(e.product.content),1),e.product.origin_price?(Object(o["y"])(),Object(o["f"])(o["a"],{key:1},[Object(o["g"])("del",O,"原價 "+Object(o["H"])(e.product.origin_price)+" 元",1),Object(o["g"])("div",h,"現在只要 "+Object(o["H"])(e.product.price)+" 元",1)],64)):(Object(o["y"])(),Object(o["f"])("div",j,Object(o["H"])(e.product.price)+" 元",1)),Object(o["g"])("div",null,[Object(o["g"])("div",v,[Object(o["R"])(Object(o["g"])("input",{type:"number",class:"form-control",min:"1",max:"10","onUpdate:modelValue":c[0]||(c[0]=function(t){return x.qty=t})},null,512),[[o["L"],x.qty,void 0,{number:!0}]]),Object(o["g"])("button",{type:"button",class:"btn btn-primary",disabled:x.isLoading,onClick:c[1]||(c[1]=function(t){return k.addCart(e.product.id)})},[x.isLoading?(Object(o["y"])(),Object(o["f"])("span",y)):Object(o["e"])("",!0),w],8,m)])])])])])])])],512)}e("99af"),e("7db0"),e("d3b7");var x=e("7c2b"),k=e.n(x),H={data:function(){return{modal:{},qty:1,cartData:[],isLoading:!1}},props:["product"],methods:{showModal:function(){this.modal.show(),this.qty=1},hideModal:function(){this.modal.hide()},getCart:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("beanhuang","/cart")).then((function(c){t.cartData=c.data.data})).catch((function(t){console.dir(t)}))},addCart:function(t){var c=this,e={data:{product_id:t,qty:this.qty}},o=this.cartData.carts.find((function(c){return c.product_id===t}));o&&(e.data.qty+=o.qty),this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("beanhuang","/cart"),e).then((function(){c.hideModal()})).catch((function(t){console.dir(t)})).then((function(){c.isLoading=!1}))}},mounted:function(){this.modal=new k.a(this.$refs.productModalInner),this.getCart()}},q=e("6b0d"),L=e.n(q);const D=L()(H,[["render",M]]);c["a"]=D},df25:function(t,c,e){"use strict";e("4835")},e01a:function(t,c,e){"use strict";var o=e("23e7"),a=e("83ab"),n=e("da84"),i=e("e330"),r=e("1a2d"),d=e("1626"),s=e("3a9b"),l=e("577e"),u=e("9bf2").f,b=e("e893"),p=n.Symbol,g=p&&p.prototype;if(a&&d(p)&&(!("description"in g)||void 0!==p().description)){var f={},j=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),c=s(g,this)?new p(t):void 0===t?p():p(t);return""===t&&(f[c]=!0),c};b(j,p),j.prototype=g,g.constructor=j;var O="Symbol(test)"==String(p("test")),h=i(g.toString),v=i(g.valueOf),m=/^Symbol\((.*)\)[^)]+$/,y=i("".replace),w=i("".slice);u(g,"description",{configurable:!0,get:function(){var t=v(this),c=h(t);if(r(f,t))return"";var e=O?w(c,7,-1):y(c,m,"$1");return""===e?void 0:e}}),o({global:!0,forced:!0},{Symbol:j})}},fd15:function(t,c,e){"use strict";e.r(c);e("a4d3"),e("e01a");var o=e("7a23"),a={class:"container mt-5 my-5"},n=Object(o["g"])("h2",null,"產品列表",-1),i={class:"row row-cols-4 gy-4 mt-3"},r={class:"card"},d={class:"card-body"},s={class:"card-title"},l={class:"card-text descriptionBox"},u={class:"card-footer"},b=Object(o["i"])(" 查看更多 ");function p(t,c,e,p,g,f){var j=Object(o["E"])("router-link"),O=Object(o["E"])("productModal"),h=Object(o["E"])("FooterView");return Object(o["y"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("div",a,[n,Object(o["g"])("div",i,[(Object(o["y"])(!0),Object(o["f"])(o["a"],null,Object(o["D"])(g.productsData,(function(t){return Object(o["y"])(),Object(o["f"])("div",{class:"col-6 col-lg-3",key:t.id},[Object(o["g"])("div",r,[Object(o["g"])("div",{class:"card-img-top ratio ratio-1x1 bg-cover",style:Object(o["s"])("background-image: url('".concat(t.imageUrl,"')"))},null,4),Object(o["g"])("div",d,[Object(o["g"])("h5",s,Object(o["H"])(t.title),1),Object(o["g"])("p",l,Object(o["H"])(t.description),1)]),Object(o["g"])("div",u,[Object(o["j"])(j,{to:"/product/".concat(t.id),class:"btn btn-secondary btnfull"},{default:Object(o["Q"])((function(){return[b]})),_:2},1032,["to"])])])])})),128))]),Object(o["j"])(O,{ref:"productModalOuter",product:g.product},null,8,["product"])]),Object(o["j"])(h)],64)}e("99af");var g=e("9481"),f=e("f796"),j={data:function(){return{productsData:[],product:{}}},methods:{getProducts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("beanhuang","/products/all")).then((function(c){t.productsData=c.data.products})).catch((function(t){console.dir(t)}))},getModalProduct:function(t){this.product=t,this.$refs.productModalOuter.showModal()}},components:{productModal:g["a"],FooterView:f["a"]},created:function(){this.getProducts()}},O=(e("df25"),e("6b0d")),h=e.n(O);const v=h()(j,[["render",p]]);c["default"]=v}}]);
//# sourceMappingURL=chunk-5683b57a.4bf90978.js.map